<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
      layout:decorate="layout">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <link rel="stylesheet" type="text/css" href="assets/css/bootstrap-clearmin.min.css">
    <link rel="stylesheet" type="text/css" href="assets/css/roboto.css">
    <link rel="stylesheet" type="text/css" href="assets/css/material-design.css">
    <link rel="stylesheet" type="text/css" href="assets/css/small-n-flat.css">
    <link rel="stylesheet" type="text/css" href="assets/css/font-awesome.min.css">
    <!--table依赖-->
    <link rel="stylesheet" type="text/css" href="bootstrap-table/bootstrap-table.css">
    <!--datetime依赖-->
    <link rel="stylesheet" type="text/css" href="bootstrap-datetimepicker/bootstrap-datetimepicker.css">

    <link rel="stylesheet" href="bootstrap-table/bootstrap-editable.css">

    <title>兵果果业务系统</title>

</head>
<body class="cm-no-transition cm-1-navbar">
<div id="cm-menu">
    <nav class="cm-navbar cm-navbar-primary">
        <div class="cm-flex">
            <div class="cm-logo"></div>
        </div>
        <div class="btn btn-primary md-menu-white" data-toggle="cm-menu"></div>
    </nav>
    <div id="cm-menu-content">
        <div id="cm-menu-items-wrapper">
            <div id="cm-menu-scroller">
                <ul class="cm-menu-items">
                    <li class="active"><a href="/go2index" class="sf-house">首页</a></li>
                    <li><a href="/go2userinformation" class="sf-dashboard">用户信息管理</a></li>
                    <li><a href="/go2companyinformation" class="sf-notepad">招聘企业信息管理</a></li>
                    <li><a href="/go2civilaffairsbureau" class="sf-cat">民政局信息管理</a></li>
                    <li><a href="/go2compactinformation" class="sf-lock-open">合同台账信息管理</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>
<header id="cm-header">
    <nav class="cm-navbar cm-navbar-primary">
        <div class="btn btn-primary md-menu-white hidden-md hidden-lg" data-toggle="cm-menu"></div>
        <div class="cm-flex">
            <h1>招聘企业信息管理</h1>
            <form id="cm-search" action="http://www.baidu.com/baidu" method="get" target="_blank">
                <input name=tn type=hidden value=baidu>
                <input type="search" name="word" autocomplete="off" placeholder="百度搜索">
            </form>
        </div>
        <div class="pull-right">
            <div id="cm-search-btn" class="btn btn-primary md-search-white" data-toggle="cm-search"></div>
        </div>
        <div class="dropdown pull-right">
            <button class="btn btn-primary md-notifications-white" data-toggle="dropdown"><span
                    class="label label-danger">23</span></button>
            <div class="popover cm-popover bottom">
                <div class="arrow"></div>
                <div class="popover-content">
                    <div class="list-group">
                        <a href="#" class="list-group-item">
                            <h4 class="list-group-item-heading text-overflow">
                                <i class="fa fa-fw fa-envelope"></i> Nunc volutpat aliquet magna.
                            </h4>
                            <p class="list-group-item-text text-overflow">Pellentesque tincidunt mollis scelerisque.
                                Praesent vel blandit quam.</p>
                        </a>
                        <a href="#" class="list-group-item">
                            <h4 class="list-group-item-heading">
                                <i class="fa fa-fw fa-envelope"></i> Aliquam orci lectus
                            </h4>
                            <p class="list-group-item-text">Donec quis arcu non risus sagittis</p>
                        </a>
                        <a href="#" class="list-group-item">
                            <h4 class="list-group-item-heading">
                                <i class="fa fa-fw fa-warning"></i> Holy guacamole !
                            </h4>
                            <p class="list-group-item-text">Best check yo self, you're not looking too good.</p>
                        </a>
                    </div>
                    <div style="padding:10px"><a class="btn btn-success btn-block" href="#">Show me more...</a></div>
                </div>
            </div>
        </div>
        <div class="dropdown pull-right">
            <button class="btn btn-primary md-account-circle-white" data-toggle="dropdown"></button>
            <ul class="dropdown-menu">
                <li class="disabled text-center">
                    <a style="cursor:default;" id="a-realname"><strong>yangkunlin</strong></a>
                </li>
                <li class="divider"></li>
                <li>
                    <a href="#" id="userinformation"><i class="fa fa-fw fa-user"></i>个人信息</a>
                </li>
                <li>
                    <a href="#" id="changepassword"><i class="fa fa-fw fa-cog"></i>修改密码</a>
                </li>
                <li>
                    <a href="/logout" id="logout"><i class="fa fa-fw fa-sign-out"></i>退出登陆</a>
                </li>
            </ul>
        </div>
    </nav>
</header>
<div id="global">
    <div class="container-fluid">
        <div class="panel-body" style="padding-bottom:0px;">
            <div class="panel-body" style="padding-bottom:0px;">
                <div class="panel panel-default">
                    <div class="panel-heading">查询条件</div>
                    <div class="panel-body">
                        <form id="formSearch" class="form-horizontal">
                            <div class="form-group" style="margin-top:15px">
                                <label class="control-label col-sm-2" for="search_target">请选择要查询的列</label>
                                <div class="col-sm-3">
                                    <select class="form-control" id="search_target" name="type">
                                        <option value="chargeman">负责人</option>
                                        <option value="province">省份</option>
                                        <option value="company">公司名称</option>
                                        <option value="position">招聘岗位</option>
                                        <option value="linkman">联系人</option>
                                        <option value="phone">电话</option>
                                        <option value="type">招聘/招生</option>
                                        <option value="location">公司地点</option>
                                        <option value="linkdate">联系日期</option>
                                        <option value="iswechat">是否加微信</option>
                                        <option value="iscircle">是否进群</option>
                                        <option value="isattention">是否关注公众号</option>
                                        <option value="isjoin">是否入驻平台</option>
                                        <option value="comment">备注</option>
                                    </select>
                                </div>
                                <label class="control-label col-sm-2" for="search_content">请输入要查询的内容</label>
                                <div class="col-sm-3">
                                    <input type="text" class="form-control" id="search_content" placeholder="可进行模糊查询">
                                </div>
                                <div class="col-sm-1" style="text-align:left;">
                                    <button type="button" style="margin-left:50px" id="searchSubmit"
                                            class="btn btn-primary">查询
                                    </button>
                                </div>
                                <div class="col-sm-1" style="text-align:left;">
                                    <button type="button" style="margin-left:50px" id="reset" class="btn btn-primary">
                                        重置
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div id="toolbar" class="btn-group">
                    <button id="btn_add" type="button" class="btn btn-default" onclick="addModalShow()">
                        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>新增
                    </button>
                    <button id="btn_edit" type="button" class="btn btn-default">
                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>修改
                    </button>
                    <button id="btn_delete" type="button" class="btn btn-default">
                        <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>删除
                    </button>
                </div>
                <table id="table"></table>
            </div>
        </div>
        <footer class="cm-footer"><span class="pull-right">&copy; 郑州缤缤果信息科技有限公司</span></footer>
    </div>


</div>
<!--添加的模态对话框 -->
<div class="modal fade" id="addModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">增加记录</h4>
            </div>
            <form class="form-horizontal" action="/addcompany" method="post" id="addForm"
                  th:object="${civilAffairsBureauInformation}">
                <!--等价于div.container-->
                <div class="modal-body">
                    <div class="form-group"><!--div.row-->
                        <div class="col-sm-2"><label for="am-province" class="control-label">省</label></div>
                        <div class="col-sm-5">
                            <select class="form-control" id="am-province" name="province">
                                <option value="北京">北京</option>
                                <option value="天津">天津</option>
                                <option value="上海">上海</option>
                                <option value="重庆">重庆</option>
                                <option value="河北">河北</option>
                                <option value="山西">山西</option>
                                <option value="辽宁">辽宁</option>
                                <option value="吉林">吉林</option>
                                <option value="黑龙江">黑龙江</option>
                                <option value="江苏">江苏</option>
                                <option value="浙江">浙江</option>
                                <option value="安徽">安徽</option>
                                <option value="福建">福建</option>
                                <option value="江西">江西</option>
                                <option value="山东">山东</option>
                                <option value="河南">河南</option>
                                <option value="湖北">湖北</option>
                                <option value="湖南">湖南</option>
                                <option value="广东">广东</option>
                                <option value="海南">海南</option>
                                <option value="四川">四川</option>
                                <option value="贵州">贵州</option>
                                <option value="云南">云南</option>
                                <option value="陕西">陕西</option>
                                <option value="甘肃">甘肃</option>
                                <option value="青海">青海</option>
                                <option value="台湾">台湾</option>
                                <option value="内蒙">内蒙</option>
                                <option value="广西">广西</option>
                                <option value="西藏">西藏</option>
                                <option value="宁夏">宁夏</option>
                                <option value="新疆">新疆</option>
                                <option value="香港">香港</option>
                                <option value="澳门">澳门</option>
                            </select>
                        </div>
                        <div class="col-sm-4"><span class="help-block">公司所在省份</span></div>
                    </div>
                    <div class="form-group"><!--div.row-->
                        <div class="col-sm-2"><label for="am-company" class="control-label">公司名称</label></div>
                        <div class="col-sm-5"><input type="text" class="form-control" id="am-company"
                                                     name="company">
                        </div>
                        <div class="col-sm-4"><span class="help-block">公司名称</span></div>
                    </div>
                    <div class="form-group"><!--div.row-->
                        <div class="col-sm-2"><label for="am-position" class="control-label">招聘岗位</label></div>
                        <div class="col-sm-5"><input type="text" class="form-control" id="am-position"
                                                     name="position">
                        </div>
                        <div class="col-sm-4"><span class="help-block">招聘岗位</span></div>
                    </div>
                    <div class="form-group"><!--div.row-->
                        <div class="col-sm-2"><label for="am-linkman" class="control-label">联系人</label></div>
                        <div class="col-sm-5"><input type="text" class="form-control" id="am-linkman"
                                                     name="linkman">
                        </div>
                        <div class="col-sm-4"><span class="help-block">联系人</span></div>
                    </div>
                    <div class="form-group"><!--div.row-->
                        <div class="col-sm-2"><label for="am-phone" class="control-label">电话</label></div>
                        <div class="col-sm-5"><input type="text" class="form-control" id="am-phone"
                                                     name="phone">
                        </div>
                        <div class="col-sm-4"><span class="help-block">联系电话</span></div>
                    </div>
                    <div class="form-group"><!--div.row-->
                        <div class="col-sm-2"><label for="am-type" class="control-label">招聘/招生</label></div>
                        <div class="col-sm-5">
                            <select class="form-control" id="am-type" name="type">
                                <option>招聘</option>
                                <option>健身学院</option>
                                <option>无人机</option>
                                <option>空乘</option>
                            </select>
                        </div>
                        <div class="col-sm-4"><span class="help-block">招聘/招生</span></div>
                    </div>
                    <div class="form-group"><!--div.row-->
                        <div class="col-sm-2"><label for="am-location" class="control-label">公司地点</label></div>
                        <div class="col-sm-5"><input type="text" class="form-control" id="am-location"
                                                     name="location">
                        </div>
                        <div class="col-sm-4"><span class="help-block">公司地点</span></div>
                    </div>
                    <div class="form-group"><!--div.row-->
                        <div class="col-sm-2"><label for="am-linkdate" class="control-label">联系时间</label></div>
                        <div class="col-sm-5"><input type="date" class="form-control" id="am-linkdate"
                                                     name="linkdate">
                        </div>
                        <div class="col-sm-4"><span class="help-block">联系时间</span></div>
                    </div>
                    <div class="form-group"><!--div.row-->
                        <div class="col-sm-2"><label for="am-isWechat" class="control-label">微信</label></div>
                        <div class="col-sm-5">
                            <select class="form-control" id="am-isWechat" name="iswechat">
                                <option>否</option>
                                <option>是</option>
                            </select>
                        </div>
                        <div class="col-sm-4"><span class="help-block">是否加微信</span></div>
                    </div>
                    <div class="form-group"><!--div.row-->
                        <div class="col-sm-2"><label for="am-isCircle" class="control-label">微信群</label></div>
                        <div class="col-sm-5">
                            <select class="form-control" id="am-isCircle" name="iscircle">
                                <option>否</option>
                                <option>是</option>
                            </select>
                        </div>
                        <div class="col-sm-4"><span class="help-block">是否进群</span></div>
                    </div>
                    <div class="form-group"><!--div.row-->
                        <div class="col-sm-2"><label for="am-isAttention" class="control-label">公众号</label></div>
                        <div class="col-sm-5">
                            <select class="form-control" id="am-isAttention" name="isattention">
                                <option>否</option>
                                <option>是</option>
                            </select>
                        </div>
                        <div class="col-sm-4"><span class="help-block">是否关注公众号</span></div>
                    </div>
                    <div class="form-group"><!--div.row-->
                        <div class="col-sm-2"><label for="am-isJoin" class="control-label">入驻</label></div>
                        <div class="col-sm-5">
                            <select class="form-control" id="am-isJoin" name="isjoin">
                                <option>否</option>
                                <option>是</option>
                            </select>
                        </div>
                        <div class="col-sm-4"><span class="help-block">是否入驻平台</span></div>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-default" data-dismiss="modal" id="addModalSubmit">提交
                        </button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- 查询的模态对话框 -->
<div id="checkModal" class="modal fade" role="dialog" aria-hidden=true>
    <div class="modal-dialog modal-lg">
        <form id='searchForm' class="bs-example bs-example-form" role="form">
            <div class="modal-content">
                <div class="modal-header bg-primary">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                    <h4 class="modal-title">
                        <i class="icon-pencil"></i>
                        <span id="lblAddTitle" style="font-weight:bold">查询</span>
                    </h4>
                </div>
                <div class="modal-body" style="text-align:center;">
                    <div class="input-group">
                        <span class="input-group-addon text-center"><i class="icon-th">1</i></span>
                        <input type="text" class=" form-control" name="id"
                               id="cm-id" placeholder="动态编号" readonly>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon"><i class="icon-th"></i>2</span>
                        <input type="text" class="form-control" placeholder="负责人" name="chargeman"
                               id="cm-chargeman" readonly>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon"><i class="icon-th"></i>2</span>
                        <input type="text" class="form-control" placeholder="省" name="province"
                               id="cm-province" readonly>
                    </div>

                    <div class="input-group">
                        <span class="input-group-addon text-center"><i class="icon-th">3</i></span>
                        <input type="text" class=" form-control" name="company"
                               id="cm-company" placeholder="公司名称" readonly>
                    </div>
                    <div class="input-group">

                        <span class="input-group-addon text-center"><i class="icon-th">4</i></span>
                        <input type="text" class=" form-control" name="position"
                               id="cm-position" placeholder="招聘岗位" readonly>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon text-center"><i class="icon-th">5</i></span>
                        <input type="text" class=" form-control" name="linkman" id="cm-linkman"
                               placeholder="联系人" readonly>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon text-center"><i class="icon-th">6</i></span>
                        <input type="text" class=" form-control" name="phone" id="cm-phone"
                               placeholder="电话" readonly>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon text-center"><i class="icon-th">7</i></span>
                        <input type="text" class=" form-control" name="type" id="cm-type" placeholder="招聘/招生"
                               readonly>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon text-center"><i class="icon-th">8</i></span>
                        <input type="text" class=" form-control" name="location" id="cm-location" placeholder="公司地点"
                               readonly>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon text-center"><i class="icon-th">9</i></span>
                        <input type="text" class=" form-control" name="linkdate" id="cm-linkdate" placeholder="联系日期"
                               readonly>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon text-center"><i class="icon-th">10</i></span>
                        <input type="text" class=" form-control" name="isWechat" id="cm-isWechat"
                               placeholder="是否加微信"
                               readonly>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon text-center"><i class="icon-th">11</i></span>
                        <input type="text" class=" form-control" name="isCircle" id="cm-isCircle" placeholder="是否进群"
                               readonly>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon text-center"><i class="icon-th">12</i></span>
                        <input type="text" class=" form-control" name="isAttention" id="cm-isAttention"
                               placeholder="是否关注公众号"
                               readonly>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon text-center"><i class="icon-th">13</i></span>
                        <input type="text" class=" form-control" name="isJoin" id="cm-isJoin" placeholder="是否入驻平台"
                               readonly>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon text-center"><i class="icon-th">14</i></span>
                        <input type="text" class=" form-control" name="comment" id="cm-comment" placeholder="备注"
                               readonly>
                    </div>
                </div>
                <div class="modal-footer bg-info">
                    <input type="hidden" id="CMID" name="CMID"/>
                    <button type="button" class="btn green" data-dismiss="modal">取消</button>
                </div>
            </div>
        </form>
    </div>
</div>

<!-- 编辑的模态对话框 -->
<div id="editModal" class="modal fade" role="dialog" aria-hidden=true>
    <div class="modal-dialog modal-lg">
        <form id='editForm' class="bs-example bs-example-form" role="form" action="/editcompany"
              method="post" th:object="${companyInformation}">
            <div class="modal-content">
                <div class="modal-header bg-primary">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                    <h4 class="modal-title">
                        <i class="icon-pencil"></i>
                        <span id="em-title" style="font-weight:bold">编辑</span>
                    </h4>
                </div>
                <div class="modal-body" style="text-align:center;">
                    <div class="input-group">
                        <span class="input-group-addon text-center"><i class="icon-th">1-动态编号</i></span>
                        <input type="text" class=" form-control" name="id"
                               id="em-id" placeholder="动态编号" readonly>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon"><i class="icon-th"></i>2-负责人</span>
                        <input type="text" class="form-control" placeholder="负责人" name="chargeman"
                               id="em-chargeman" readonly>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon"><i class="icon-th"></i>3-省</span>
                        <input type="text" class="form-control" placeholder="省" name="province"
                               id="em-province">
                    </div>

                    <div class="input-group">
                        <span class="input-group-addon text-center"><i class="icon-th">4-公司名称</i></span>
                        <input type="text" class=" form-control" name="company"
                               id="em-company" placeholder="公司名称">
                    </div>
                    <div class="input-group">

                        <span class="input-group-addon text-center"><i class="icon-th">5-招聘岗位</i></span>
                        <input type="text" class=" form-control" name="position"
                               id="em-position" placeholder="招聘岗位">
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon text-center"><i class="icon-th">6-联系人</i></span>
                        <input type="text" class=" form-control" name="linkman" id="em-linkman"
                               placeholder="联系人">
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon text-center"><i class="icon-th">7-电话</i></span>
                        <input type="text" class=" form-control" name="phone" id="em-phone"
                               placeholder="电话">
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon text-center"><i class="icon-th">8-招聘/招生</i></span>
                        <select class="form-control" id="em-type" name="type">
                            <option>招聘</option>
                            <option>健身学院</option>
                            <option>无人机</option>
                            <option>空乘</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon text-center"><i class="icon-th">9-公司地点</i></span>
                        <input type="text" class=" form-control" name="location" id="em-location" placeholder="公司地点">
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon text-center"><i class="icon-th">10-联系日期</i></span>
                        <input type="date" class=" form-control" name="linkdate" id="em-linkdate">
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon text-center"><i class="icon-th">11-是否加微信</i></span>
                        <select class="form-control" id="em-isWechat" name="iswechat">
                            <option>否</option>
                            <option>是</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon text-center"><i class="icon-th">12-是否进群</i></span>
                        <select class="form-control" id="em-isCircle" name="iscircle">
                            <option>否</option>
                            <option>是</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon text-center"><i class="icon-th">13-是否关注公众号</i></span>
                        <select class="form-control" id="em-isAttention" name="isattention">
                            <option>否</option>
                            <option>是</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon text-center"><i class="icon-th">14-是否入驻平台</i></span>
                        <select class="form-control" id="em-isJoin" name="isjoin">
                            <option>否</option>
                            <option>是</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon text-center"><i class="icon-th">15-备注</i></span>
                        <input type="text" class=" form-control" name="comment" id="em-comment" placeholder="备注">
                    </div>
                </div>
                <div class="modal-footer bg-info">
                    <input type="hidden" id="EMID" name="EMID"/>
                    <button type="submit" class="btn btn-primary" id="editModalSubmit">确定</button>
                    <button type="button" class="btn green" data-dismiss="modal">取消</button>
                </div>
            </div>
        </form>
    </div>
</div>

<!-- 用户信息的模态对话框 -->
<div id="editUserInformationModal" class="modal fade" role="dialog" aria-hidden=true>
    <div class="modal-dialog modal-lg">
        <form id='editUserForm' class="bs-example bs-example-form" role="form" action="/edituser"
              method="post" th:object="${userInformation}">
            <div class="modal-content">
                <div class="modal-header bg-primary">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                    <h4 class="modal-title">
                        <i class="icon-pencil"></i>
                        <span id="eum-title" style="font-weight:bold">个人信息</span>
                    </h4>
                </div>
                <div class="modal-body" style="text-align:center;">
                    <div class="input-group">
                        <span class="input-group-addon text-center"><i class="icon-th">1-动态编号</i></span>
                        <input type="text" class=" form-control" name="id"
                               id="eum-id" placeholder="动态编号" readonly>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon"><i class="icon-th"></i>2-登陆账号</span>
                        <input type="text" class="form-control" placeholder="用户名" name="username"
                               id="eum-username" readonly>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon"><i class="icon-th"></i>3-真实姓名</span>
                        <input type="text" class="form-control" placeholder="姓名" name="realname"
                               id="eum-realname" readonly>
                    </div>

                    <div class="input-group">
                        <span class="input-group-addon text-center"><i class="icon-th">4-联系方式</i></span>
                        <input type="text" class=" form-control" name="phonenumber"
                               id="eum-phonenumber" placeholder="联系方式">
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon text-center"><i class="icon-th">5-出生年月</i></span>
                        <input type="date" class=" form-control" name="brithday"
                               id="eum-brithday" placeholder="出生年月" readonly>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon text-center"><i class="icon-th">6-性别分类</i></span>
                        <input type="text" class=" form-control" name="sex" id="eum-sex"
                               placeholder="性别" readonly>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon text-center"><i class="icon-th">7-入职时间</i></span>
                        <input type="date" class=" form-control" name="joinday" id="eum-joinday"
                               placeholder="入职时间" readonly>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon text-center"><i class="icon-th">8-所属部门</i></span>
                        <input type="text" class=" form-control" name="department" id="eum-department"
                               placeholder="部门" readonly>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon text-center"><i class="icon-th">9-职位安排</i></span>
                        <input type="text" class=" form-control" name="position" id="eum-position"
                               placeholder="职位" readonly>
                    </div>
                    <div class="input-group">
                        <span class="input-group-addon text-center"><i class="icon-th">10工作状态</i></span>
                        <select class="form-control" id="eum-workstage" name="workstage">
                            <option>在位</option>
                            <option>休假</option>
                            <option>离职</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer bg-info">
                    <input type="hidden" id="EUMID" name="EMID"/>
                    <input type="hidden" id="eum-password" name="password"/>
                    <input type="hidden" id="eum-authority" name="authority"/>
                    <button type="submit" class="btn btn-primary" id="editUserModalSubmit">确定</button>
                    <button type="button" class="btn green" data-dismiss="modal">取消</button>
                </div>
            </div>
        </form>
    </div>
</div>

<!-- 修改密码的模态对话框 -->
<div id="changePasswordModal" class="modal fade" role="dialog" aria-hidden=true>
    <div class="modal-dialog modal-lg">
        <form id='changePasswordForm' class="bs-example bs-example-form" role="form" action="#"
              method="post" th:object="${userInformation}">
            <div class="modal-content">
                <div class="modal-header bg-primary">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                    <h4 class="modal-title">
                        <i class="icon-pencil"></i>
                        <span id="cpm-title" style="font-weight:bold">修改密码</span>
                    </h4>
                </div>
                <div class="modal-body" style="text-align:center;">
                    <div class="form-group"><!--div.row-->
                        <div class="col-sm-2"><label for="password" class="control-label">请输入新密码：</label></div>
                        <div class="col-sm-5"><input type="password" class="form-control" id="password"
                                                     name="password"></div>
                        <div class="col-sm-4"><span class="help-block">请输入新密码</span></div>
                    </div>
                    <div class="form-group"><!--div.row-->
                        <div class="col-sm-2"><label for="repassword" class="control-label">请确认新密码：</label></div>
                        <div class="col-sm-5"><input type="password" class="form-control" id="repassword"
                                                     name="repassword"></div>
                        <div class="col-sm-4"><span class="help-block">请再次输入新密码和上面保持一致</span></div>
                    </div>
                    <div class="form-group"><!--div.row-->
                        <div class="col-sm-4"><span class="help-block" id="tishi"></span></div>
                    </div>
                </div>
                <div class="modal-footer bg-info">
                    <button type="button" class="btn btn-primary" id="changePasswordModalSubmit">确定</button>
                    <button type="button" class="btn green" data-dismiss="modal">关闭</button>
                </div>
            </div>
        </form>
    </div>
</div>


<!--clearmin-->
<script src="assets/js/lib/jquery-2.1.3.min.js"></script>
<script src="assets/js/jquery.mousewheel.min.js"></script>
<script src="assets/js/jquery.cookie.min.js"></script>
<script src="assets/js/fastclick.min.js"></script>
<script src="assets/js/bootstrap.min.js"></script>
<script src="assets/js/clearmin.min.js"></script>
<!--bootstrap table-->
<script src="bootstrap-table/bootstrap-table.js"></script>
<script src="bootstrap-table/bootstrap-table-zh-CN.js"></script>
<script src="bootstrap-table/bootstrap-editable.js"></script>
<script src="bootstrap-table/bootstrap-table-editable.js"></script>
<script src="bootstrap-table/export/bootstrap-table-export.js"></script>
<script src="bootstrap-table/export/tableExport.js"></script>
<script src="bootstrap-table/export/pdfmake.min.js"></script>
<script src="bootstrap-table/export/FileSaver.min.js"></script>
<script src="bootstrap-table/export/jspdf.min.js"></script>
<script src="bootstrap-table/export/jspdf.plugin.autotable.js"></script>
<script src="bootstrap-table/export/vfs_fonts.js"></script>
<!--bootstrap datetimepicker-->
<script src="bootstrap-datetimepicker/bootstrap-datetimepicker.js"></script>
<script src="bootstrap-datetimepicker/bootstrap-datetimepicker.zh-CN.js"></script>

<script>
$(function () {
        //1.初始化Table
        var oTable = new TableInit();
        oTable.Init();

        //2.初始化Button的点击事件
        var oButtonInit = new ButtonInit();
        oButtonInit.Init();

        $.ajax({
              type: "POST",
              async : false,
              url: "/getuserinformation",
              data:  {},
              datatype:"json",
              success: function (data) {
                 var dataObj=eval("("+data+")");
                 if(dataObj['userLogin']) {
                    var x=document.getElementById("a-realname");
                    x.innerHTML=dataObj['realname'] + "--" + dataObj['position'];
                    $('#eum-id').val(dataObj['id']);
                    $('#eum-username').val(dataObj['username']);
                    $('#eum-realname').val(dataObj['realname']);
                    $('#eum-department').val(dataObj['department']);
                    $('#eum-position').val(dataObj['position']);
                    $('#eum-joinday').val(dataObj['joinday']);
                    $('#eum-workstage').val(dataObj['workstage']);
                    $('#eum-phonenumber').val(dataObj['phonenumber']);
                    $('#eum-sex').val(dataObj['sex']);
                    $('#eum-brithday').val(dataObj['brithday']);
                    $('#eum-password').val(dataObj['password']);
                    $('#eum-authority').val(dataObj['authority']);
                 }
                 else {
                    alert("请重新登陆！");
                 }
              }
        });
    })

    var TableInit = function () {
        var oTableInit = new Object();
        //初始化Table
        oTableInit.Init = function () {
            $('#table').bootstrapTable({
                url: '/getallcompany',            //请求后台的URL（*）
                method: 'post',            //请求方式（*）
                contentType: "application/x-www-form-urlencoded",//当请求方法为post的时候,必须要有！！！！
                toolbar: '#toolbar',        //工具按钮用哪个容器
                striped: true,                      //是否显示行间隔色
                cache: false,                       //是否使用缓存，默认为true，所以一般情况下需要设置一下这个属性（*）
                pagination: true,                   //是否显示分页（*）
                sortable: true,                     //是否启用排序
                sortOrder: "asc",                   //排序方式
                queryParams: oTableInit.queryParams,//传递参数（*）
                sidePagination: "server",           //分页方式：client客户端分页，server服务端分页（*）
                pageNumber: 1,                       //初始化加载第一页，默认第一页
                pageSize: 15,                       //每页的记录行数（*）
                pageList: [5, 25, 50, 100],        //可供选择的每页的行数（*）
                search: false,                       //是否显示表格搜索，此搜索是客户端搜索，不会进服务端，所以，个人感觉意义不大
                strictSearch: true,
                showColumns: true,                  //是否显示所有的列
                showRefresh: true,                  //是否显示刷新按钮
                minimumCountColumns: 2,             //最少允许的列数
                clickToSelect: true,                //是否启用点击选中行
                height: 740,                        //行高，如果没有设置height属性，表格自动根据记录条数觉得表格高度
                uniqueId: "ID",                     //每一行的唯一标识，一般为主键列
                showToggle: true,                    //是否显示详细视图和列表视图的切换按钮
                cardView: false,                    //是否显示详细视图
                detailView: false,                  //是否显示父子表
                showExport: true,                     //是否显示导出
                exportDataType: "selected",              //basic', 'all', 'selected'
                exportTypes:[ 'csv', 'txt', 'sql', 'doc', 'excel', 'xlsx'],  //导出文件类型
                columns: [{
                    checkbox: true,
                    visible: true                  //是否显示复选框
                }, {
                    field: 'id',
                    title: '序号',
                    sortable:true,
                }, {
                    field: 'chargeman',
                    title: '负责人',
                    sortable:true,
                }, {
                    field: 'province',
                    sortable:true,
                    title: '省'
                }, {
                    field: 'company',
                    sortable:true,
                    title: '公司名称'
                }, {
                    field: 'position',
                    sortable:true,
                    title: '招聘岗位'
                },  {
                    field: 'linkman',
                    sortable:true,
                    title: '联系人'
                }, {
                    field: 'phone',
                    sortable:true,
                    title: '电话'
                }, {
                    field: 'type',
                    sortable:true,
                    title: '招聘/招生'
                },{
                    field: 'location',
                    sortable:true,
                    title: '公司地点'
                },{
                    field: 'linkdate',
                    sortable:true,
                    title: '联系日期'
                },{
                    field: 'iswechat',
                    sortable:true,
                    title: '是否加微信'
                }, {
                    field: 'iscircle',
                    sortable:true,
                    title: '是否进群'
                },{
                    field: 'isattention',
                    sortable:true,
                    title: '是否关注公众号'
                },{
                    field: 'isjoin',
                    sortable:true,
                    title: '是否入驻平台'
                },{
                    field: 'comment',
                    sortable:true,
                    title: '备注'
                },{
                    field:'action',
                    title: '操作',
                    width: 120,
                    align: 'center',
                    valign: 'middle',
                    events: operateEvents,
                    formatter: actionFormatter
                }, ],
                onEditableSave: function (field, row, oldValue, $el) {
                $.ajax({
                    type: "post",
                    url: "#",
                    data: { strJson: JSON.stringify(row) },
                    success: function (data, status) {
                        if (status == "success") {
                            alert("编辑成功");
                        }
                    },
                    error: function () {
                        alert("Error");
                    },
                    complete: function () {

                    }

                    });
                },
                <!--rowStyle: function (row, index) {-->
                <!--//这里有5个取值代表5中颜色['active', 'success', 'info', 'warning', 'danger'];-->
                <!--var strclass = "";-->
                <!--if (row.veteranphone <= 5) {-->
                    <!--strclass = 'success';//还有一个active-->
                <!--}-->
                <!--else {-->
                    <!--strclass = 'info';-->
                <!--}-->
                <!--return { classes: strclass }-->
                <!--},-->
                <!--onLoadSuccess: function () {-->
                <!--},-->
                <!--onLoadError: function () {-->
                    <!--showTips("数据加载失败！");-->
                <!--},-->
            });
        };
        oTableInit.queryParams = function (params) {
            var temp = {   //这里的键的名字和控制器的变量名必须一直，这边改动，控制器也需要改成一样的
                limit : params.limit, // 每页显示数量
                offset : params.offset, // SQL语句起始索引
                page: (params.offset / params.limit) + 1,   //当前页码
                sort: params.sort,      //排序列名
                sortOrder: params.order, //排位命令（desc，asc）
                searchTarget : $('#search_target').val(),
                searchContent : $('#search_content').val()
            };
            return temp;
        };
        return oTableInit;
    };

    var ButtonInit = function () {
        var oInit = new Object();
        var postdata = {};

        oInit.Init = function () {
            //初始化页面上面的按钮事件
        };

        return oInit;
    };

    $('#table').on('click-row.bs.table', function (e, row, $element) {
        $('.success').removeClass('success');
        $($element).addClass('success');
    });


    //操作栏的格式化
    function actionFormatter(value, row, index) {
        var id = value;
        var result = "";
        result += "<a class='RoleOfCheck btn btn-xs green' title='查看'><span class='glyphicon glyphicon-search'></span></a>";
        result += "<a class='RoleOfEdit btn btn-xs blue'  title='编辑'><span class='glyphicon glyphicon-pencil'></span></a>";
        result += "<a class='RoleOfDelete btn btn-xs red' title='删除'><span class='glyphicon glyphicon-remove'></span></a>";

        return result;
    }
    window.operateEvents = {
            'click .RoleOfDelete': function (e, value, row, index) {
                $.post('/deletecompany', row);
                alert("删除成功！");
            },
            'click .RoleOfEdit': function (e, value, row, index) {
                $("#editModal").modal('show');
                $('#em-id').val(row.id);
                $('#em-province').val(row.province);
                $('#em-company').val(row.company);
                $('#em-position').val(row.position);
                $('#em-linkman').val(row.linkman);
                $('#em-phone').val(row.phone);
                $('#em-type').val(row.type);
                $('#em-location').val(row.location);
                $('#em-linkdate').val(row.linkdate);
                $('#em-isWechat').val(row.iswechat);
                $('#em-isCircle').val(row.iscircle);
                $('#em-isAttention').val(row.isattention);
                $('#em-isJoin').val(row.isjoin);
                $('#em-comment').val(row.comment);
                $('#em-chargeman').val(row.chargeman);
            },
             'click .RoleOfCheck': function (e, value, row, index) {
                $('#checkModal').modal('show');
                $('#cm-id').val(row.id);
                $('#cm-province').val(row.province);
                $('#cm-company').val(row.company);
                $('#cm-position').val(row.position);
                $('#cm-linkman').val(row.linkman);
                $('#cm-phone').val(row.phone);
                $('#cm-type').val(row.type);
                $('#cm-location').val(row.location);
                $('#cm-linkdate').val(row.linkdate);
                $('#cm-isWechat').val(row.iswechat);
                $('#cm-isCircle').val(row.iscircle);
                $('#cm-isAttention').val(row.isattention);
                $('#cm-isJoin').val(row.isjoin);
                $('#cm-comment').val(row.comment);
                $('#cm-chargeman').val(row.chargeman);
            }
    };

    $('#addModalSubmit').click(function(){
        alert('提交成功！');
        $('#addForm').submit();
    });

    $('#editModalSubmit').click(function(){
        alert('修改成功！');
        $('#editForm').submit();
    });

    function addModalShow() {
        $('#addModal').modal('show');
    }

   $(function () {
            $('#searchSubmit').click(function () {
                $('#table').bootstrapTable('refresh', { url: '/getallcompany' });
            });
            $('#reset').click(function() {
                $('#search_target').val('');
                $('#search_content').val('');
                $('#table').bootstrapTable('refresh', { url: '/getallcompany' });
            });
        });


    $('#userinformation').click(function(){
        $('#editUserInformationModal').modal('show');
    })

    $('#changepassword').click(function(){
        $('#changePasswordModal').modal('show');
    })

   $('#changePasswordModalSubmit').click(function() {
      var pwd1 = document.getElementById("password").value;
      var pwd2 = document.getElementById("repassword").value;
      if(pwd1 == pwd2 &&  pwd1 != "") {
            $.ajax({
              type: "POST",
              async : false,
              url: "/changepassword",
              data:  {"password" : pwd1},
              datatype:"json",
              success: function (data) {
                 var dataObj=eval("("+data+")");
                 if(dataObj['changepassword']) {
                    document.getElementById("tishi").innerHTML="<font color='green'>修改成功，请点击右侧关闭按钮--></font>";
                 }
                 else {
                    document.getElementById("tishi").innerHTML="<font color='red'>修改失败，请重新修改！</font>";
                 }
              }
            });
      }
      else {
        document.getElementById("tishi").innerHTML="<font color='red'>两次密码不相同,请重新输入！</font>";
      }
  })

</script>

</body>
</html>